{% extends 'base.html' %}
{% load i18n static %}

{% block title %}{% trans "SecureApprove - Sistema de Aprobaciones Seguras" %}{% endblock %}

{% block extra_css %}
<style>
        :root {
            --indigo-50: #eef2ff;
            --purple-50: #faf5ff;
        }

        .hero-section {
            background: linear-gradient(135deg, var(--indigo-50) 0%, var(--bg-color) 50%, var(--purple-50) 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
        }

        [data-theme="dark"] .hero-section {
            background: linear-gradient(135deg, #1e1b4b 0%, var(--bg-color) 50%, #4c1d95 100%);
        }

        .feature-card {
            transition: all 0.3s ease;
            border: 1px solid var(--border-color);
            height: 100%;
            background-color: var(--card-bg);
        }

        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px var(--card-shadow);
        }

        .feature-icon {
            width: 48px;
            height: 48px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 1rem;
        }

        .btn-hero-primary {
            background: var(--primary-color);
            border: none;
            padding: 12px 30px;
            font-weight: 600;
            transition: all 0.3s ease;
            color: white;
        }
        
        .btn-hero-primary:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(79, 70, 229, 0.3);
            color: white;
        }

        .btn-outline-custom {
            border: 2px solid var(--primary-color);
            color: var(--primary-color);
            padding: 12px 30px;
            font-weight: 600;
            transition: all 0.3s ease;
            background: transparent;
        }

        .btn-outline-custom:hover {
            background: var(--primary-color);
            color: white;
        }

        .stats-section {
            background: var(--primary-color);
        }

        .pricing-card {
            transition: all 0.3s ease;
            border: 1px solid var(--border-color);
            background-color: var(--card-bg);
            color: var(--text-color);
        }

        .section-padding {
            padding: 80px 0;
        }

        /* Dark mode support for landing page */
        .text-muted-custom {
            color: var(--text-muted) !important;
        }

        .bg-secondary-custom {
            background-color: var(--bg-secondary) !important;
        }

        .text-primary-custom {
            color: var(--primary-color) !important;
        }

        /* Feature cards in dark mode */
        [data-theme="dark"] .feature-card {
            background-color: var(--card-bg) !important;
            border-color: var(--border-color) !important;
        }

        [data-theme="dark"] .feature-card .card-title {
            color: var(--text-color) !important;
        }

        [data-theme="dark"] .feature-card .card-text {
            color: var(--text-muted) !important;
        }

        /* Pricing table in dark mode */
        [data-theme="dark"] .pricing-card .table {
            color: var(--text-color) !important;
            --bs-table-bg: var(--card-bg);
        }

        [data-theme="dark"] .pricing-card .table th,
        [data-theme="dark"] .pricing-card .table td {
            color: var(--text-color) !important;
            border-color: var(--border-color) !important;
        }

        [data-theme="dark"] .pricing-card .table thead th {
            background-color: var(--bg-secondary) !important;
        }

        /* Footer in dark mode */
        [data-theme="dark"] footer.bg-light {
            background-color: var(--bg-secondary) !important;
            border-color: var(--border-color) !important;
        }

        [data-theme="dark"] footer p,
        [data-theme="dark"] footer a {
            color: var(--text-muted) !important;
        }

        [data-theme="dark"] footer a:hover {
            color: var(--primary-color) !important;
        }

        /* Accordion in dark mode */
        [data-theme="dark"] .accordion-item {
            background-color: var(--card-bg) !important;
            border-color: var(--border-color) !important;
        }

        [data-theme="dark"] .accordion-button {
            background-color: var(--card-bg) !important;
            color: var(--text-color) !important;
        }

        [data-theme="dark"] .accordion-button:not(.collapsed) {
            background-color: var(--bg-secondary) !important;
            color: var(--text-color) !important;
        }

        [data-theme="dark"] .accordion-body {
            background-color: var(--card-bg) !important;
            color: var(--text-color) !important;
        }

        [data-theme="dark"] .accordion-button::after {
            filter: invert(1) grayscale(100%) brightness(200%);
        }

        /* Headings and text in dark mode */
        [data-theme="dark"] h1, [data-theme="dark"] h2, [data-theme="dark"] h3,
        [data-theme="dark"] h4, [data-theme="dark"] h5, [data-theme="dark"] h6 {
            color: var(--text-color) !important;
        }

        [data-theme="dark"] .lead {
            color: var(--text-muted) !important;
        }

        /* Modal styles */
        [data-theme="dark"] .modal-content {
            background-color: var(--card-bg);
            border-color: var(--border-color);
            color: var(--text-color);
        }
        
        [data-theme="dark"] .modal-header {
            border-color: var(--border-color);
        }
        
        [data-theme="dark"] .modal-footer {
            border-color: var(--border-color);
        }
        
        [data-theme="dark"] .btn-close {
            filter: invert(1);
        }
        
        .modal {
            z-index: 1060 !important;
        }
        
        .modal-backdrop {
            z-index: 1055 !important;
        }
        
        .modal-dialog {
            margin-top: 80px;
        }
        
        .legal-content {
            max-height: 60vh;
            overflow-y: auto;
        }
        
        .legal-content h2 {
            font-size: 1.1rem;
            margin-top: 1.5rem;
            margin-bottom: 0.75rem;
        }
        
        .legal-content p, .legal-content li {
            font-size: 0.9rem;
            color: var(--text-muted);
        }
        
        .legal-content .alert {
            font-size: 0.85rem;
        }
</style>
{% endblock %}

{% block content %}
    <!-- Hero Section -->
    <section class="hero-section">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-8 mx-auto text-center">
                    <div class="mb-4">
                        <img src="{% static 'img/logo.png' %}" alt="SecureApprove" style="height: 120px;">
                    </div>

                    <h1 class="display-4 fw-bold mb-4">SecureApprove</h1>

                    <p class="fs-4 mb-3">
                        {% trans "Sistema de Aprobaciones Seguras con Autenticación Biométrica" %}
                    </p>

                    <p class="fs-5 text-muted-custom mb-5">
                        {% trans "Automatiza tus procesos de aprobación con seguridad de nivel empresarial y autenticación biométrica avanzada." %}
                    </p>

                    <div class="d-flex flex-column flex-sm-row gap-3 justify-content-center">
                        <a href="{% url 'authentication:webauthn_login' %}" class="btn btn-hero-primary btn-lg">
                            <i class="bi bi-fingerprint me-2"></i>
                            {% trans "Comenzar Ahora" %}
                        </a>
                        <a href="{% url 'landing:demo' %}" class="btn btn-outline-custom btn-lg">
                            <i class="bi bi-play-circle me-2"></i>
                            {% trans "Ver Demo" %}
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section class="section-padding">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 mx-auto text-center mb-5">
                    <h2 class="display-5 fw-bold mb-3">
                        {% trans "Características Principales" %}
                    </h2>
                    <p class="lead text-muted-custom">
                        {% trans "Tecnología avanzada para procesos de aprobación seguros y eficientes" %}
                    </p>
                </div>
            </div>

            <div class="row g-4">
                <div class="col-md-6 col-lg-4">
                    <div class="card feature-card h-100 text-center p-4">
                        <div class="feature-icon bg-primary bg-opacity-10 mx-auto">
                            <i class="bi bi-fingerprint text-primary-custom fs-4"></i>
                        </div>
                        <div class="card-body">
                            <h5 class="card-title fw-bold">{% trans "Autenticación Biométrica" %}</h5>
                            <p class="card-text text-muted-custom">
                                {% trans "Seguridad avanzada y autenticación biométrica" %}
                            </p>
                        </div>
                    </div>
                </div>

                <div class="col-md-6 col-lg-4">
                    <div class="card feature-card h-100 text-center p-4">
                        <div class="feature-icon bg-success bg-opacity-10 mx-auto">
                            <i class="bi bi-lightning text-success fs-4"></i>
                        </div>
                        <div class="card-body">
                            <h5 class="card-title fw-bold">{% trans "Tiempo Real" %}</h5>
                            <p class="card-text text-muted-custom">
                                {% trans "Notificaciones instantáneas y actualizaciones en tiempo real" %}
                            </p>
                        </div>
                    </div>
                </div>

                <div class="col-md-6 col-lg-4">
                    <div class="card feature-card h-100 text-center p-4">
                        <div class="feature-icon bg-danger bg-opacity-10 mx-auto">
                            <i class="bi bi-lock text-danger fs-4"></i>
                        </div>
                        <div class="card-body">
                            <h5 class="card-title fw-bold">{% trans "Seguridad Empresarial" %}</h5>
                            <p class="card-text text-muted-custom">
                                {% trans "Cumplimiento de estándares de seguridad" %}
                            </p>
                        </div>
                    </div>
                </div>

                <div class="col-md-6 col-lg-4">
                    <div class="card feature-card h-100 text-center p-4">
                        <div class="feature-icon bg-warning bg-opacity-10 mx-auto">
                            <i class="bi bi-diagram-3 text-warning fs-4"></i>
                        </div>
                        <div class="card-body">
                            <h5 class="card-title fw-bold">{% trans "Flujos Inteligentes" %}</h5>
                            <p class="card-text text-muted-custom">
                                {% trans "Automatiza aprobaciones con reglas flexibles y multi-nivel" %}
                            </p>
                        </div>
                    </div>
                </div>

                <div class="col-md-6 col-lg-4">
                    <div class="card feature-card h-100 text-center p-4">
                        <div class="feature-icon bg-info bg-opacity-10 mx-auto">
                            <i class="bi bi-phone text-info fs-4"></i>
                        </div>
                        <div class="card-body">
                            <h5 class="card-title fw-bold">{% trans "Multiplataforma" %}</h5>
                            <p class="card-text text-muted-custom">
                                {% trans "Compatible con PC, Android e iOS" %}
                            </p>
                        </div>
                    </div>
                </div>

                <div class="col-md-6 col-lg-4">
                    <div class="card feature-card h-100 text-center p-4">
                        <div class="feature-icon bg-secondary bg-opacity-10 mx-auto">
                            <i class="bi bi-chat-dots text-secondary fs-4"></i>
                        </div>
                        <div class="card-body">
                            <h5 class="card-title fw-bold">{% trans "Chat Integrado" %}</h5>
                            <p class="card-text text-muted-custom">
                                {% trans "Comunicación en tiempo real entre usuarios" %}
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Stats Section -->
    <section class="stats-section section-padding text-white">
        <div class="container">
            <div class="row text-center">
                <div class="col-md-3 mb-4">
                    <div class="h2 fw-bold">99.9%</div>
                    <p class="opacity-75">{% trans "Disponibilidad" %}</p>
                </div>
                <div class="col-md-3 mb-4">
                    <div class="h2 fw-bold">&lt;1s</div>
                    <p class="opacity-75">{% trans "Tiempo de Respuesta" %}</p>
                </div>
                <div class="col-md-3 mb-4">
                    <div class="h2 fw-bold">10K+</div>
                    <p class="opacity-75">{% trans "Solicitudes Procesadas" %}</p>
                </div>
                <div class="col-md-3 mb-4">
                    <div class="h2 fw-bold">3</div>
                    <p class="opacity-75">{% trans "Plataformas" %}</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Pricing Section (per-user) -->
    <section id="pricing" class="section-padding bg-secondary-custom">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 mx-auto text-center mb-5">
                    <h2 class="display-5 fw-bold mb-3">{% trans "Planes de Suscripción" %}</h2>
                    <p class="lead text-muted-custom">
                        {% trans "El precio se calcula por usuario según el tamaño de tu equipo." %}
                    </p>
                </div>
            </div>

            <div class="row justify-content-center">
                <div class="col-lg-8">
                    <div class="card pricing-card h-100 p-4">
                        <div class="card-body">
                            <h3 class="fw-bold mb-3 text-center">
                                {% trans "Precios por número de usuarios" %}
                            </h3>
                            <div class="table-responsive mb-3">
                                <table class="table align-middle mb-0">
                                    <thead>
                                        <tr>
                                            <th scope="col">{% trans "Usuarios" %}</th>
                                            <th scope="col" class="text-end">
                                                {% trans "Precio por usuario (USD/mes)" %}
                                            </th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>{% trans "De 2 a 6 usuarios" %}</td>
                                            <td class="text-end">$90</td>
                                        </tr>
                                        <tr>
                                            <td>{% trans "De 7 a 12 usuarios" %}</td>
                                            <td class="text-end">$75</td>
                                        </tr>
                                        <tr>
                                            <td>{% trans "Más de 12 usuarios" %}</td>
                                            <td class="text-end">$65</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <p class="text-muted-custom mb-3">
                                {% trans "El administrador de cada tenant puede agregar la cantidad de usuarios que desee; el monto mensual se calcula multiplicando el precio por usuario por el número total de usuarios." %}
                            </p>
                            <div class="text-center">
                        <a href="{% url 'billing:select_plan' %}" class="btn btn-hero-primary">
                                    {% trans "Ir a seleccionar plan" %}
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- CTA Section -->
    <section class="section-padding">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 mx-auto">
                    <div class="card text-white p-5 text-center border-0"
                         style="background: linear-gradient(135deg, var(--primary-color), #8b5cf6);">
                        <h2 class="h1 fw-bold mb-3">
                            {% trans "¿Listo para transformar tus aprobaciones?" %}
                        </h2>
                        <p class="fs-5 mb-4 opacity-90">
                            {% trans "Únete a empresas que ya optimizaron sus procesos con SecureApprove" %}
                        </p>
                        <a href="#pricing" class="btn btn-light btn-lg text-primary fw-bold">
                            <i class="bi bi-rocket-takeoff me-2"></i>
                            {% trans "Ver Planes" %}
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="py-4 bg-light mt-auto border-top">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-md-6 text-center text-md-start">
                    <p class="mb-0 text-muted-custom">&copy; {% now "Y" %} SecureApprove. {% trans "All rights reserved." %}</p>
                </div>
                <div class="col-md-6 text-center text-md-end">
                    <ul class="list-inline mb-0">
                        <li class="list-inline-item">
                            <a href="#" data-bs-toggle="modal" data-bs-target="#termsModal" class="text-decoration-none text-muted-custom hover-primary">
                                {% trans "Terms & Conditions" %}
                            </a>
                        </li>
                        <li class="list-inline-item ms-3">
                            <a href="#" data-bs-toggle="modal" data-bs-target="#privacyModal" class="text-decoration-none text-muted-custom hover-primary">
                                {% trans "Privacy Policy" %}
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </footer>

<!-- Terms and Conditions Modal -->
<div class="modal fade" id="termsModal" tabindex="-1" aria-labelledby="termsModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-scrollable">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="termsModalLabel">{% trans "Terms and Conditions" %}</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="{% trans 'Close' %}"></button>
            </div>
            <div class="modal-body legal-content">
                <p class="text-muted mb-4">{% trans "Last updated: November 23, 2025" %}</p>

                <section class="mb-4">
                    <h2 class="h5 mb-2">{% trans "1. Introduction" %}</h2>
                    <p>{% trans "Welcome to SecureApprove. By accessing or using our website and services, you agree to be bound by these Terms and Conditions and our Privacy Policy." %}</p>
                </section>

                <section class="mb-4">
                    <h2 class="h5 mb-2">{% trans "2. Biometric Data Privacy" %}</h2>
                    <div class="alert alert-info border-0 bg-info bg-opacity-10">
                        <i class="bi bi-shield-lock-fill me-2"></i>
                        <strong>{% trans "Important Privacy Notice:" %}</strong> 
                        {% trans "We do not collect, store, or transmit your biometric data." %}
                    </div>
                    <p>{% trans "SecureApprove utilizes WebAuthn standards for passwordless authentication. This means:" %}</p>
                    <ul>
                        <li>{% trans "Your biometric data (fingerprint, face scan, etc.) remains exclusively on your personal device." %}</li>
                        <li>{% trans "We never receive or store your raw biometric information." %}</li>
                        <li>{% trans "Our servers only receive a cryptographic proof that you have successfully authenticated with your device." %}</li>
                        <li>{% trans "You retain full control over your biometric credentials and can remove them from your device at any time." %}</li>
                    </ul>
                </section>

                <section class="mb-4">
                    <h2 class="h5 mb-2">{% trans "3. Data Usage and Sharing" %}</h2>
                    <p>{% trans "We are committed to protecting your privacy and data security:" %}</p>
                    <ul>
                        <li>{% trans "We do not sell, trade, or rent your personal identification information to others." %}</li>
                        <li>{% trans "We do not share your data with third parties for marketing purposes." %}</li>
                        <li>{% trans "Your data is used solely for the purpose of providing the SecureApprove service, including processing approvals and managing your account." %}</li>
                    </ul>
                </section>

                <section class="mb-4">
                    <h2 class="h5 mb-2">{% trans "4. User Responsibilities" %}</h2>
                    <p>{% trans "You are responsible for maintaining the confidentiality of your account and for restricting access to your devices. You agree to accept responsibility for all activities that occur under your account." %}</p>
                </section>

                <section class="mb-4">
                    <h2 class="h5 mb-2">{% trans "5. Limitation of Liability" %}</h2>
                    <p>{% trans "SecureApprove shall not be liable for any indirect, incidental, special, consequential or punitive damages, including without limitation, loss of profits, data, use, goodwill, or other intangible losses, resulting from your access to or use of or inability to access or use the service." %}</p>
                </section>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-bs-dismiss="modal">{% trans "Close" %}</button>
            </div>
        </div>
    </div>
</div>

<!-- Privacy Policy Modal -->
<div class="modal fade" id="privacyModal" tabindex="-1" aria-labelledby="privacyModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-scrollable">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="privacyModalLabel">{% trans "Privacy Policy" %}</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="{% trans 'Close' %}"></button>
            </div>
            <div class="modal-body legal-content">
                <p class="text-muted mb-4">{% trans "Last updated: December 6, 2025" %}</p>

                <section class="mb-4">
                    <h2 class="h5 mb-2">{% trans "1. Introduction" %}</h2>
                    <p>{% trans "At SecureApprove, we take your privacy seriously. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our service." %}</p>
                </section>

                <section class="mb-4">
                    <h2 class="h5 mb-2">{% trans "2. Information We Collect" %}</h2>
                    <p>{% trans "We collect information that you provide directly to us:" %}</p>
                    <ul>
                        <li>{% trans "Account information: name, email address, and organization details." %}</li>
                        <li>{% trans "Approval requests and related metadata." %}</li>
                        <li>{% trans "Usage data and interaction logs for service improvement." %}</li>
                    </ul>
                    <div class="alert alert-info border-0 bg-info bg-opacity-10 mt-2">
                        <i class="bi bi-shield-lock-fill me-2"></i>
                        <strong>{% trans "Important:" %}</strong> 
                        {% trans "We do NOT collect, store, or have access to your biometric data. All biometric authentication is processed locally on your device." %}
                    </div>
                </section>

                <section class="mb-4">
                    <h2 class="h5 mb-2">{% trans "3. Biometric Authentication" %}</h2>
                    <p>{% trans "SecureApprove uses WebAuthn technology for passwordless authentication. This means:" %}</p>
                    <ul>
                        <li>{% trans "Your biometric data (fingerprint, face scan, etc.) never leaves your device." %}</li>
                        <li>{% trans "We only receive a cryptographic signature that proves you authenticated successfully." %}</li>
                        <li>{% trans "Even if our servers were compromised, your biometric data would remain safe on your device." %}</li>
                        <li>{% trans "You can delete your authentication credentials from your device at any time." %}</li>
                    </ul>
                </section>

                <section class="mb-4">
                    <h2 class="h5 mb-2">{% trans "4. How We Use Your Information" %}</h2>
                    <p>{% trans "We use the information we collect to:" %}</p>
                    <ul>
                        <li>{% trans "Provide, maintain, and improve our services." %}</li>
                        <li>{% trans "Process and manage approval requests." %}</li>
                        <li>{% trans "Send you notifications about your approvals." %}</li>
                        <li>{% trans "Respond to your comments and questions." %}</li>
                        <li>{% trans "Monitor and analyze usage patterns to improve user experience." %}</li>
                    </ul>
                </section>

                <section class="mb-4">
                    <h2 class="h5 mb-2">{% trans "5. Information Sharing" %}</h2>
                    <p>{% trans "We do not sell, trade, or rent your personal information to third parties. We may share your information only in the following circumstances:" %}</p>
                    <ul>
                        <li>{% trans "With your consent or at your direction." %}</li>
                        <li>{% trans "With other members of your organization as necessary for the approval workflow." %}</li>
                        <li>{% trans "To comply with legal obligations or respond to lawful requests." %}</li>
                        <li>{% trans "To protect the rights, privacy, safety, or property of SecureApprove, our users, or the public." %}</li>
                    </ul>
                </section>

                <section class="mb-4">
                    <h2 class="h5 mb-2">{% trans "6. Data Security" %}</h2>
                    <p>{% trans "We implement appropriate technical and organizational measures to protect your personal information, including:" %}</p>
                    <ul>
                        <li>{% trans "256-bit encryption for data in transit and at rest." %}</li>
                        <li>{% trans "Regular security audits and vulnerability assessments." %}</li>
                        <li>{% trans "Access controls and authentication requirements for our systems." %}</li>
                        <li>{% trans "Secure data centers with physical security measures." %}</li>
                    </ul>
                </section>

                <section class="mb-4">
                    <h2 class="h5 mb-2">{% trans "7. Your Rights" %}</h2>
                    <p>{% trans "You have the right to:" %}</p>
                    <ul>
                        <li>{% trans "Access the personal information we hold about you." %}</li>
                        <li>{% trans "Request correction of inaccurate information." %}</li>
                        <li>{% trans "Request deletion of your personal information." %}</li>
                        <li>{% trans "Object to or restrict processing of your information." %}</li>
                        <li>{% trans "Export your data in a portable format." %}</li>
                    </ul>
                </section>

                <section class="mb-4">
                    <h2 class="h5 mb-2">{% trans "8. Contact Us" %}</h2>
                    <p>{% trans "If you have any questions about this Privacy Policy, please contact us at:" %}</p>
                    <p><a href="mailto:privacy@secureapprove.com">privacy@secureapprove.com</a></p>
                </section>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-bs-dismiss="modal">{% trans "Close" %}</button>
            </div>
        </div>
    </div>
</div>
{% endblock %}
