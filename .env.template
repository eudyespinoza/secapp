# ==============================================
# SecureApprove - Environment Configuration
# ==============================================
# ⚠️ Copy this file to .env and generate secure values
# Use: node scripts/generate-production-secrets.js
# ==============================================

# ==============================================
# APPLICATION
# ==============================================
NODE_ENV=production
APP_NAME=SecureApprove
APP_VERSION=1.0.0
APP_URL=https://secureapprove.com
API_URL=https://api.secureapprove.com
DOMAIN=secureapprove.com

# ==============================================
# API CONFIGURATION
# ==============================================
API_PORT=3000
API_INSTANCES=3
API_WORKERS=4
API_TIMEOUT=30000

# ==============================================
# DATABASE - MongoDB
# ==============================================
MONGODB_URI=mongodb://secureapprove_admin:SECURE_PASSWORD_HERE@mongodb-primary:27017/secureapprove?authSource=admin&replicaSet=rs0
MONGODB_DATABASE=secureapprove
MONGODB_USER=secureapprove_admin
MONGODB_PASSWORD=SECURE_PASSWORD_HERE
MONGODB_ROOT_USER=root
MONGODB_ROOT_PASSWORD=SECURE_ROOT_PASSWORD_HERE
MONGODB_REPLICA_SET_KEY=SECURE_512_CHAR_KEY_HERE

# ==============================================
# REDIS
# ==============================================
REDIS_HOST=redis-master
REDIS_PORT=6379
REDIS_PASSWORD=SECURE_REDIS_PASSWORD_HERE
REDIS_DB=0
REDIS_TTL=3600

# ==============================================
# JWT & AUTHENTICATION
# ==============================================
JWT_SECRET=SECURE_JWT_SECRET_64_CHARS_MINIMUM
JWT_REFRESH_SECRET=SECURE_REFRESH_SECRET_64_CHARS_MINIMUM
JWT_EXPIRATION=15m
JWT_REFRESH_EXPIRATION=7d
JWT_ISSUER=secureapprove.com
JWT_AUDIENCE=secureapprove-api

# ==============================================
# WEBAUTHN CONFIGURATION
# ==============================================
WEBAUTHN_RP_NAME=SecureApprove
WEBAUTHN_RP_ID=secureapprove.com
WEBAUTHN_ORIGIN=https://secureapprove.com
WEBAUTHN_TIMEOUT=60000
WEBAUTHN_ATTESTATION=none
WEBAUTHN_USER_VERIFICATION=preferred

# ==============================================
# ENCRYPTION
# ==============================================
ENCRYPTION_KEY=SECURE_32_CHAR_ENCRYPTION_KEY
ENCRYPTION_ALGORITHM=aes-256-gcm
ENCRYPTION_IV_LENGTH=16
ENCRYPTION_TAG_LENGTH=16

# ==============================================
# RATE LIMITING
# ==============================================
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=1000
RATE_LIMIT_WEBAUTHN_MAX=10
RATE_LIMIT_LOGIN_MAX=5
RATE_LIMIT_API_MAX=5000

# ==============================================
# SECURITY
# ==============================================
CORS_ORIGIN=https://secureapprove.com,https://www.secureapprove.com,https://api.secureapprove.com
CORS_CREDENTIALS=true
HELMET_CSP_ENABLED=true
SESSION_SECRET=SECURE_SESSION_SECRET_64_CHARS_MINIMUM
BCRYPT_ROUNDS=12

# ==============================================
# EMAIL SERVICE (SMTP)
# ==============================================
SMTP_HOST=smtp.sendgrid.net
SMTP_PORT=587
SMTP_SECURE=true
SMTP_USER=apikey
SMTP_PASSWORD=YOUR_SENDGRID_API_KEY
SMTP_FROM=noreply@secureapprove.com
SMTP_FROM_NAME=SecureApprove

# ==============================================
# MERCADO PAGO BILLING
# ==============================================
MP_ACCESS_TOKEN=YOUR_MERCADO_PAGO_PRODUCTION_ACCESS_TOKEN
MP_WEBHOOK_URL=https://api.secureapprove.com/api/billing/webhook

# ==============================================
# MONITORING
# ==============================================
PROMETHEUS_PORT=9091
GRAFANA_PORT=3002
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=SECURE_GRAFANA_PASSWORD_HERE
GRAFANA_SECRET_KEY=SECURE_GRAFANA_SECRET_HERE

# ==============================================
# BACKUP CONFIGURATION
# ==============================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_COMPRESSION=gzip
BACKUP_ENCRYPTION_KEY=SECURE_BACKUP_KEY_HERE

# ==============================================
# FEATURE FLAGS
# ==============================================
FEATURE_REGISTRATION_ENABLED=true
FEATURE_TOTP_BACKUP=true
FEATURE_AUDIT_LOGGING=true
FEATURE_ADVANCED_ANALYTICS=true
FEATURE_MULTI_TENANT=true

# ==============================================
# PERFORMANCE
# ==============================================
MAX_UPLOAD_SIZE=52428800
REQUEST_TIMEOUT=30000
KEEP_ALIVE_TIMEOUT=65000
BODY_PARSER_LIMIT=50mb
COMPRESSION_ENABLED=true

# ==============================================
# PRODUCTION & DEBUG
# ==============================================
DEBUG=false
LOG_Level=info
ENABLE_SWAGGER=false
ENABLE_METRICS_ENDPOINT=true